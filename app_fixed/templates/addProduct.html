<!DOCTYPE html>
<html lang="en">

<head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>niture</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    <link rel="stylesheet" href="{{url_for('.static', filename='css/bootstrap.min.css')}}">
    <!-- style css -->
    <link rel="stylesheet" href="{{url_for('.static', filename='css/style.css')}}">
    <!-- Responsive-->
    <link rel="stylesheet" href="{{url_for('.static', filename='css/responsive.css')}}">
    <!-- fevicon -->
    <link rel="icon" href="images/fevicon.png" type="image/gif" />
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="{{url_for('.static', filename='css/jquery.mCustomScrollbar.min.css')}}">
    <!-- Tweaks for older IEs-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<!-- body -->

<body class="main-layout">

    <!-- loader  -->
    <div class="loader_bg">
        <div class="loader"><img src="{{url_for('.static', filename='images/loading.gif')}}" alt="#" /></div>
    </div>
     <!-- end loader -->

    <div class="wrapper">

       
        <div class="sidebar">
         <!-- Sidebar  -->
        {% include "sidebar.html" %}
      </div>

        <div id="content">
            
            {% include "header.html" %}
            
            <div class="trending" style="padding-top: 50px;">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <div class="title">
                                <h2>Add <strong class="black">your own product</strong></h2>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="offset-xl-4 offset-lg-4 offset-md-4 col-xl-4 col-lg-4 col-md-4 col-sm-12">
                            <div>
                                <form action="/addproduct" method="post" id="product_form">

                                    <div class="row">
                                        <div class="col-xl-8 col-lg-8 col-md-8 col-sm-12">
                                            <div class="form-outline mb-4">
                                                <input type="text" name="name" id="prod_name" class="form-control" placeholder="Name"/>
                                            </div>
                                        </div>

                                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12">
                                            <div class="input-group mb-4">
                                                <input type="number" name="price" id="prod_price" class="form-control" placeholder="Price"/>
                                                <div class="input-group-append">
                                                    <span class="input-group-text" id="basic-addon2">â‚¬</span>
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>


                                    <div class="form-outline mb-4">
                                        <input type="file" name="Image" accept="image/*" id="prod_image" class="form-control" placeholder="Image"/>
                                    </div>
                                    
                                    <div class="form-outline mb-4">
                                        <div class="row">

                                            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                                                <div class="row">
                                                    <div class="col-xl-12">
                                                        <label for="prod_condition">Condition:</label>
                                                    </div>
                                                    <div class="col-xl-12">
                                                        <select name="condiiton" id="prod_condition">
                                                            {% for c in conditions %}
                                                            <option value=" {{ c[0] }}">{{ c[1] }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                                                <div class="row">
                                                    <div class="col-xl-12">
                                                        <label for="prod_category">Category:</label>
                                                    </div>
                                                    <div class="col-xl-12">
                                                        <select name="category" id="prod_category">
                                                            {% for c in categories %}
                                                                <option value="{{c[0]}}">{{ c[1] }}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>

                                                
                                            </div>

                                        </div>
                                    </div>
                                    
                                    <div class="form-outline mb-4">
                                        <textarea id="prod_description" cols="47" rows="10" name="description" class="form-contreol" placeholder="Description"></textarea>
                                    </div>

                                    <div class="text-center pt-1 mb-5 pb-1">
                                        <span id="error" style="color: red; display: none;">Please check your inputs and try again</span>
                                        <input type="submit" value="Add product" class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3" style="padding: 15px" type="button">
                                    </div>

                                    <!-- 
                                    <div class="form-outline mb-4">
                                        <input type="password" name="password" id="pass" class="form-control" placeholder="Password" />
                                    </div>

                                    <div class="text-center pt-1 mb-5 pb-1">
                                        <input type="submit" value="Log in" class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3" style="padding: 15px" type="button">
                                        <a class="text-muted" href="#!">Forgot password?</a>
                                    </div>

                                    <div class="d-flex align-items-center justify-content-center pb-4">
                                        <p class="mb-0 me-2">Don't have an account?</p>
                                        <button type="button" style="margin-left: 10px;" class="btn btn-outline-danger">Create new</button>
                                    </div> -->
                                    
                                </form>

                            </div>
                        </div>

                    </div>
                </div>
            </div>

            {% include "footer.html" %}
             
        </div>

    </div>

    <div class="overlay"></div>

    <!-- Javascript files-->
    <script src="{{url_for('.static', filename='js/jquery.min.js')}}"></script>
    <script src="{{url_for('.static', filename='js/popper.min.js')}}"></script>
    <script src="{{url_for('.static', filename='js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('.static', filename='js/jquery-3.0.0.min.js')}}"></script>
    <!-- sidebar -->
    <script src="{{url_for('.static', filename='js/jquery.mCustomScrollbar.concat.min.js')}}"></script>
    <script src="{{url_for('.static', filename='js/custom.js')}}"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            $("#sidebar").mCustomScrollbar({
                theme: "minimal"
            });

            $('#dismiss, .overlay').on('click', function() {
                $('#sidebar').removeClass('active');
                $('.overlay').removeClass('active');
            });

            $('#sidebarCollapse').on('click', function() {
                $('#sidebar').addClass('active');
                $('.overlay').addClass('active');
                $('.collapse.in').toggleClass('in');
                $('a[aria-expanded=true]').attr('aria-expanded', 'false');
            });

            let form = $("#product_form");
            $("#product_form").submit(function(event){
                $("#error").css("display", "none");
                var formData = new FormData(form[0])

                fetch("./addproduct", {
                    method: 'post',
                    body: formData,
                    headers: {
                        'enctype': 'multipart/form-data',
                        'Content-Disposition': 'attachment; filename="' + $("#prod_image")[0].files[0].name +'"'

                    }
                }).then((response) => {
                    if (response.status === 201) {
                        $(location).attr("href", "/product");
                    } else {
                        $("#error").css("display", "");
                    }
                }).catch((error) => {
                    console.log(error)
                })
                event.preventDefault();

            });

        });
    </script>
    <script>
      // This example adds a marker to indicate the position of Bondi Beach in Sydney,
      // Australia.
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 11,
          center: {lat: 40.645037, lng: -73.880224},
          });

      var image = 'images/maps-and-flags.png';
      var beachMarker = new google.maps.Marker({
          position: {lat: 40.645037, lng: -73.880224},
          map: map,
          icon: image
        });
      }
    </script>
    <!-- google map js -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8eaHt9Dh5H57Zh0xVTqxVdBFCvFMqFjQ&callback=initMap"></script>
    <!-- end google map js --> 
    
</body>

</html>